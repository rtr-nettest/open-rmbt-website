{% extends basetemplate %}
{% set title = Lang.opentests %}
{% set containerclass = "full-width" %}

{% block headerscriptingExtended %}
<link rel="stylesheet" type="text/css" href="../{{ fingerprint['lib/olv3/ol.css'] }}" media="screen" />
<script src="../{{ fingerprint['lib/olv3/ol.js'] }}" type="text/javascript"></script>
<script type="text/javascript" src="../{{ fingerprint['js/jquery.flot.min.js'] }}"></script>
<script src="../{{ fingerprint['lib/handlebars.min.js'] }}" type="text/javascript"></script>
<script src="../{{ fingerprint['lib/moment.min.js'] }}" type="text/javascript"></script>
<script src="../{{ fingerprint['lib/date-de-AT.js'] }}" type="text/javascript"></script>
<script type="text/javascript" src="../{{ fingerprint['js/Opentests.js'] }}"></script>

<script type="text/javascript" src="../{{ fingerprint['lib/selectize/selectize.min.js'] }}"></script>

<style>
    /*table tr td a {
        display:block;
        height:100%;
        width:100%;
    }

    #advanced-search table td {
        vertical-align: middle;
    }
    #advanced-search table tr td:first-child {
        text-align: right;
        max-width: 150px;
    }

    #advanced-search table th {
        text-align: left;
        cursor: pointer;
        font-weight: normal;
    }

    input.form-control {
        background-color: white;
    }

    #advanced-search input[type="number"]{
        /*width: 110px;*
    }
    




    .initial-placeholder {
        min-height: 15000px;
    }
    
    body {
    	height: inherit !important;
    }

    #advanced-search table.dont-stack {
        margin: 0em;
    }

    
    
    
    /* Histogram */
    .tabs-header ul {
        list-style: none;
        padding: 0px;
        margin: 0px;
    }

    .tabs-header ul li {
        float: left;
        border: solid;
        padding: 0px;
        border-width: 1px 1px 0px 1px;
        border-color: #3CC828;
        margin: 0px 5px 0px 0px;
        background-image: none;
    }


    .tabs-header ul li a {
        display: block;
        padding: 3px;
        padding-left: 8px;
        padding-right: 8px;
        text-decoration: none;
        background-color: #EEF2F4;
    }

    .tabs-header ul li.tab-selected a {
        position: relative;
        top: 1px;
        background-color: white;
    }

    .tabs-content {
        clear: both;
        border: 1px solid #3CC828;
        border-width: 1px 0px 0px 0px;
        margin-bottom: 10px;
    }


@media print {
    #map-accordion, #histograms-accordion {
        display: none;
    }
}

</style>
{% endblock %}

{% block content %}
<div class="testdata uk-container"> <!-- will be cloned for user-openuuids -->
    <a href="Opendata" style="float:right">{{ Lang.api }}</a>
    <h2 id="h2">{{ Lang.test_results }}</h2>
    <div id="spinner"></div>


    <ul uk-accordion="multiple: true" class="uk-accordion ac-content">

        <li>
            <a class="uk-accordion-title" href="#">{{ Lang.advanced_search }} <span id="advanced-search-filter-count"></span></a>
            <div class="uk-accordion-content" aria-hidden="true">

                <div class="accordion-item" id="advanced-search">
                    <form onsubmit="setFilters();return false;" method="get" class="" id="statistic_advanced_search">

                            <div uk-grid>
                                <label for="download_kbit" class="uk-width-1-4@s uk-text-right@s">{{ Lang.download }}</label>
                                <div class="uk-width-3-4@s">
                                    <label for="download_kbit" class="">{{ Lang.from }}</label>
                                    <input class="uk-input uk-width-auto" type="number" step="any" id="download_kbit"
                                           onkeyup="copyValueToUpper(this);"/>
                                    {{ Lang.mbps }}
                                    <label for="download_kbit_upper" class="">{{ Lang.up_to }}</label>
                                    <input class="uk-input uk-width-auto" type="number" step="any"
                                           id="download_kbit_upper"/>
                                    {{ Lang.mbps }}
                                </div>
                            </div>   
                            <div uk-grid>
                                <label for="upload_kbit" class="uk-width-1-4@s uk-text-right@s">{{ Lang.upload }}</label>
                                <div class="uk-width-3-4@s">
                                    <div class="form-inline">
                                        <label for="upload_kbit" class="form-control-static control-label">{{ Lang.from }}</label>
                                            <input class="uk-input  uk-width-auto" type="number" step="any" id="upload_kbit" onkeyup="copyValueToUpper(this);" />
                                        {{ Lang.mbps }}
                                        <label for="upload_kbit_upper" class="form-control-static control-label">{{ Lang.up_to }}</label>
                                            <input class="uk-input  uk-width-auto" type="number" step="any" id="upload_kbit_upper" />
                                        {{ Lang.mbps }}
                                    </div>
                                </div>
                            </div>

                            <div class="" uk-grid>
                                <label class="uk-width-1-4@s uk-text-right@s" for="ping_ms">{{ Lang.ping }}</label>
                                <div class="uk-width-3-4@s">
                                    <div class="form-inline">
                                        <label for="ping_ms" class="form-control-static control-label">{{ Lang.from }}</label>

                                            <input class="uk-input  uk-width-auto" type="number" id="ping_ms" onkeyup="copyValueToUpper(this);" />
                                            {{ Lang.ms }}

                                        <label for="ping_ms_upper" class="form-control-static control-label">{{ Lang.up_to }}</label>

                                            <input class="uk-input  uk-width-auto" type="number" id="ping_ms_upper" />
                                            {{ Lang.ms }}

                                    </div>
                                </div>
                            </div>

                            <div class="" uk-grid>
                                <label class="uk-width-1-4@s uk-text-right@s" for="signal_strength">{{ Lang.signal_strength }}</label>
                                <div class="uk-width-3-4@s">
                                    <div class="form-inline">
                                            <label class="form-control-static control-label" for="signal_strength">{{ Lang.from }}</label> 
                                            
                                                <input class="uk-input  uk-width-auto" type="number" id="signal_strength" onkeyup="copyValueToUpper(this);" />
                                                {{ Lang.dBm }}

                                            <label class="form-control-static control-label" for="signal_strength_upper">{{ Lang.up_to }}</label> 
                                            
                                                <input class="uk-input  uk-width-auto" type="number" id="signal_strength_upper" />
                                                {{ Lang.dBm }}

                                    </div>
                                </div>
                            </div>

                            <div class="" uk-grid>
                                <label for="loc_accuracy" class="uk-width-1-4@s uk-text-right@s">{{ Lang.location_accuracy }}</label>
                                <div class="uk-width-3-4@s">
                                    <div class="form-inline">
                                        <label for="loc_accuracy" class="form-control-static control-label">{{ Lang.from }}</label> 
                                        
                                            <input class="uk-input  uk-width-auto" type="number" id="loc_accuracy" onkeyup="copyValueToUpper(this);" />
                                            m

                                        <label for="loc_accuracy_upper" class="form-control-static control-label">{{ Lang.up_to }}</label> 
                                        
                                            <input class="uk-input  uk-width-auto" type="number" id="loc_accuracy_upper" />
                                            m

                                    </div>
                                </div>
                            </div>
                            <div class="" uk-grid>
                                <label for="gkz" class="uk-width-1-4@s uk-text-right@s">{{ Lang.opentests_content.gkz }}</label>
                                <div class="uk-width-3-4@s">
                                    <div class="form-inline">
                                        <label for="gkz" class="form-control-static control-label">{{ Lang.from }}</label> 
                                        
                                            <input class="uk-input  uk-width-auto" type="number" id="gkz" onkeyup="copyValueToUpper(this);" />

                                         <label for="gkz_upper" class="form-control-static control-label">{{ Lang.up_to }}</label> 
                                        
                                           <input class="uk-input  uk-width-auto" type="number" id="gkz_upper" />

                                    </div>
                                </div>
                            </div>
                            <div class="" uk-grid>
                                <label for="cat_technology" class="uk-width-1-4@s uk-text-right@s">{{ Lang.connection_technology }}</label>
                                <div class="uk-width-3-4@s">
                                    <select class="uk-select uk-width-auto" id="cat_technology" placeholder="- {{ Lang.all }} -">
                                        <option value="">- {{ Lang.all }} -</option>
                                    </select>
                                </div>
                            </div>
                            


                            <div class="" uk-grid>
                                <label class="uk-width-1-4@s uk-text-right@s" for="model">{{ Lang.device }}</label>
                                <div class="uk-width-3-4@s">
                                    <input class="uk-input  uk-width-auto" type="text" id="model" />
                                </div>
                            </div>
                           
                            <div class="" uk-grid>
                                <label class="uk-width-1-4@s uk-text-right@s" for="provider_name">{{ Lang.operator }}</label>
                                <div class="uk-width-3-4@s">
                                    <input class="uk-input  uk-width-auto" type="text" id="provider_name" />
                                </div>
                            </div>
                            <div class="" uk-grid>
                                <label class="uk-width-1-4@s uk-text-right@s" for="public_ip_as_name">{{ Lang.opentests_content.public_ip_as_name }}</label>
                                <div class="uk-width-3-4@s">
                                    <input class="uk-input  uk-width-auto" type="text" id="public_ip_as_name" />
                                </div>
                            </div>
                            <div class="" uk-grid>
                                <label class="uk-width-1-4@s uk-text-right@s" for="mobile_provider_name">{{ Lang.opentests_content.mobile_provider_name }}</label>
                                <div class="uk-width-3-4@s">
                                    <input class="uk-input  uk-width-auto" type="text" id="mobile_provider_name" />
                                </div>
                            </div>
                            <div class="" uk-grid id="time_interval">
                                <label class="uk-width-1-4@s uk-text-right@s" for="time_interval_count">{{ Lang.timespan }}</label>
                                <div class="uk-width-3-4@s">
                                    <div class="form-inline">
                                        <select id="time_interval_count" class="uk-select col-sm-3" style="width: 90px"  placeholder="- {{ Lang.all }} -">
                                            <option value="">- {{ Lang.all }} -</option>
                                        </select>
                                        <select id="time_interval_type" class="uk-select col-sm-5" style="width: 160px"  placeholder="- {{ Lang.all }} -">
                                            <option value="">- {{ Lang.all }} -</option>
                                            <option value="days">{{ Lang.days }}</option>
                                            <option value="months">{{ Lang.months }}</option>
                                            <option value="years">{{ Lang.years }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="" uk-grid>
                                <label class="uk-width-1-4@s uk-text-right@s" for="dateB">{{ Lang.timespan }} {{ Lang.end }}</label>
                                <div class="uk-width-3-4@s">
                                    <div class="form-inline">
                                        <input class="uk-input  uk-width-auto" type="date" class="form-control" id="dateB" placeholder="2015-01-01"/>
                                        <input class="uk-input  uk-width-auto" type="time" class="form-control" id="timeB" placeholder="00:00:01" step="1"/>
                                    </div>
                                </div>
                            </div>
                            <div class="" uk-grid>
                                <p>
                                    <a href="#" class=""
                                       onclick="$('#expert_filters').show();$(window).trigger('resize');$(this).parent().hide();return false;">{{
                                        Lang.opentests_content.additional_filters }} <span
                                                id="expert_filters_count"></span></a>
                                </p>
                            </div>
                            <div id="expert_filters">
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="dateA">{{ Lang.timespan }} {{ Lang.begin }}</label>
                                    <div class="uk-width-3-4@s">
                                        <div class="form-inline">
                                            <input class="uk-input  uk-width-auto" type="date" class="form-control" id="dateA" placeholder="2015-01-01"/>
                                            <input class="uk-input  uk-width-auto" type="time" class="form-control" id="timeA" placeholder="00:00:01" step="1"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label for="platform" class="uk-width-1-4@s uk-text-right@s">{{ Lang.platform }}</label>
                                    <div class="uk-width-3-4@s">
                                        <select class="uk-select uk-width-auto" id="platform">
                                            <option value="">- {{ Lang.all }} -</option>
                                            <option value="Android">Android</option>
                                            <option value="Applet">Applet</option>
                                            <option value="iOS">iOS</option>
                                            <option value="RMBTjs">RMBTjs</option>
                                            <option value="RMBTws">RMBTws</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="client_version">{{ Lang.software_version }}</label>
                                    <div class="uk-width-3-4@s">
                                        <select class="uk-select uk-width-auto" id="client_version">
                                            <option value="">- {{ Lang.all }} -</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="client_version">{{ Lang.land_cover }}</label>
                                    <div class="uk-width-3-4@s">
                                        <select class="uk-select uk-width-auto" id="land_cover">
                                            <option value="">- {{ Lang.all }} -</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="network_name">{{ Lang.opentests_content.network_name }}</label>
                                    <div class="uk-width-3-4@s">
                                        <input class="uk-input  uk-width-auto" type="text" id="network_name" />
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="network_country">{{ Lang.opentests_content.network_country }}</label>
                                    <div class="uk-width-3-4@s">
                                        <select class="uk-select uk-width-auto" id="network_country">
                                            <option value="">- {{ Lang.all }} -</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="country_geoip">{{ Lang.opentests_content.country_geoip }}</label>
                                    <div class="uk-width-3-4@s">
                                        <select class="uk-select uk-width-auto" id="country_geoip">
                                            <option value="">- {{ Lang.all }} -</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="country_location">{{ Lang.opentests_content.country_location }}</label>
                                    <div class="uk-width-3-4@s">
                                        <select class="uk-select uk-width-auto" id="country_location">
                                            <option value="">- {{ Lang.all }} -</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="sim_country">{{ Lang.opentests_content.sim_home_country }}</label>
                                    <div class="uk-width-3-4@s">
                                        <select class="uk-select uk-width-auto" id="sim_country">
                                            <option value="">- {{ Lang.all }} -</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="sim_mcc_mnc">{{ Lang.opentests_content.sim_mcc_mnc }}</label>
                                    <div class="uk-width-3-4@s">
                                        <input class="uk-input  uk-width-auto" type="text" id="sim_mcc_mnc" />
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="asn">{{ Lang.asn }}</label>
                                    <div class="uk-width-3-4@s">
                                        <input class="uk-input  uk-width-auto" type="text" id="asn" />
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="cell_area_code">{{ Lang.opentests_content.cell_area_code }}</label>
                                    <div class="uk-width-3-4@s">
                                        <input class="uk-input  uk-width-auto" type="text" id="cell_area_code" />
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="cell_location_id">{{ Lang.opentests_content.cell_location_id }}</label>
                                    <div class="uk-width-3-4@s">
                                        <input class="uk-input  uk-width-auto" type="text" id="cell_location_id" />
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="radio_band">{{ Lang.opentests_content.radio_band }}</label>
                                    <div class="uk-width-3-4@s">
                                        <input class="uk-input  uk-width-auto" type="text" id="radio_band" />
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="model">{{ Lang.open_uuid }}</label>
                                    <div class="uk-width-3-4@s">
                                        <input class="uk-input  uk-width-auto" type="text" id="open_uuid" />
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label class="uk-width-1-4@s uk-text-right@s" for="model">{{ Lang.client_uuid }}</label>
                                    <div class="uk-width-3-4@s">
                                        <input class="uk-input  uk-width-auto" type="text" id="client_uuid" />
                                    </div>
                                </div>
                                <div class="" uk-grid>
                                    <label for="pinned" class="uk-width-1-4@s uk-text-right@s">{{ Lang.pinned }}</label>
                                    <div class="uk-width-3-4@s">
                                        <select class="uk-select uk-width-auto" id="pinned">
                                            <option value="">- {{ Lang.all }} -</option>
                                            <option value="select">- {{ Lang.all }} -</option>
                                            <option value="true">{{ Lang.opentests_content.pinned_true }}</option>
                                            <option value="false">{{ Lang.opentests_content.pinned_false }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>


                            <div class="form-group ">
                                <div class="uk-width-3-4@s col-sm-offset-4">
                                    <button type="submit" class="uk-button uk-button-primary uk-button-small">{{ Lang.apply_filters }}</button>
                                    <button type="reset" class="uk-button uk-button-small uk-button-default">{{ Lang.reset }}</button>
                                </div>
                            </div>



                    </form>

                </div> <!-- end advanced search -->
            </div>

        </li>


    <!--<li>
        <a class="uk-accordion-title" href="#">{{ Lang.map }}</a>
        <div class="uk-accordion-content" aria-hidden="true">


                <div class="accordion-item">
                    <div style="height:800px" id="opentests-map-container">

                    </div>
                    <div id="markerTemplate" style="display:none">
                        <div class="olPopup">

                            <h1>{{Lang.measurements}}</h1>
                            <div class="infoWrap">
                                <hr/>
                                {% raw %}
                                {{#each data}}

                                <h2 class="
                                    {{#if highlight}}
                                      highlight
                                    {{/if}}
                                    ">{{ formatDate time }}
                                    <input type='button' style='float:right;' class='submit'
                                           onClick="window.open('/{% endraw %}{{ Lang.lang }}{% raw %}/Opentest?{{open_test_uuid}}')" value='{% endraw %}{{ Lang.moreInfo }}{% raw %}'/>
                                </h2>

                                <h3>{% endraw %}{{ Lang.measurement }}{% raw %}</h3>

                                {{#each measurement}}
                                <div class="row">
                                    <div class="rowlabel">{{ title }}</div>
                                    <a href='https://www.rtr.at/{% endraw %}{{ Lang.lang }}{% raw %}/rtr/netztestfaq_testergebnis#c25826'
                                       target='_blank'>
                                        <div class='rowclassification classification{{ classification }}'>{{classification}}</div>
                                    </a>

                                    <div class="rowitem">{{ value }}</div>
                                </div>
                                {{/each}}
                                <h3>{% endraw %}{{ Lang.net }}{% raw %}</h3>
                                {{#each net}}
                                <div class="row">
                                    <div class="rowlabel">{{ title }}</div>
                                    <div class="rowitem">{{ value }}</div>
                                </div>
                                {{/each}}
                                <hr/>
                                {{/each}}
                                {% endraw %}
                            </div>
                        </div>
                    </div>
                </div>

        </div>
    </li>

    <li>
        <a class="uk-accordion-title" href="#">{{ Lang.histogram }}</a>
        <div class="uk-accordion-content" aria-hidden="true">
            <div class="accordion-item">
                <div id="histograms">
                    <div class="tabs-header">
                        <ul class="tab-headings">
                            <li class="tab-selected"><a href="#histogram-download">{{ Lang.download }}({{ Lang.mbps }})</a></li>
                            <li><a href="#histogram-upload">{{ Lang.upload }} ({{ Lang.mbps }})</a></li>
                            <li><a href="#histogram-ping">{{ Lang.ping }} ({{ Lang.ms }})</a></li>
                        </ul>
                    </div>
                    <div class="tabs-content" style="height:195px">
                        <div class="tab-content tab-selected" id="histogram-download">
                            <div class="histogram-download_kbit-graph"></div>
                        </div>
                        <div class="tab-content not-loaded" id="histogram-upload">
                            <div class="histogram-upload_kbit-graph"></div>
                        </div>
                        <div class="tab-content not-loaded" id="histogram-ping">
                            <div class="histogram-ping_ms-graph"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </li>

    <li>
        <a class="uk-accordion-title" href="#">{{ Lang.opentests_content.intraday }}</a>
        <div class="uk-accordion-content" aria-hidden="true">

            <div class="accordion-item">
                <div id="intraday">
                    <div class="tabs-header">
                        <ul class="tab-headings">
                            <li class="tab-selected"><a href="#intraday-updown">{{ Lang.opentests_content.down_upload
                                }}</a></li>
                            <li><a href="#intraday-ping">{{ Lang.ping }}</a></li>
                        </ul>
                    </div>
                    <div class="tabs-content" style="height:195px">
                        <div class="tab-content tab-selected" id="intraday-updown">
                            <div class="intraday-graph-updown"></div>
                        </div>
                        <div class="tab-content" id="intraday-ping">
                            <div class="intraday-graph-ping"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </li>-->
</ul>


    <div class="testdata-content initial-placeholder uk-container">
        <table id="verlauf" class="uk-table uk-table-small uk-table-hover">
            <thead>
            <tr>
                <th><a href="#" onclick="sortResultsBy('time');return false;">{{ Lang.time }}</a></th>
                <th class="test-platform uk-table-expand"></th>
                <th class="uk-text-right"><a href="#" onclick="sortResultsBy('download_kbit');return false;">{{ Lang.download }} ({{ Lang.mbps }})</a></th>
                <th class="uk-text-right"><a href="#" onclick="sortResultsBy('upload_kbit');return false;">{{ Lang.upload }} ({{ Lang.mbps }})</a></th>
                <th class="uk-text-right"><a href="#" onclick="sortResultsBy('ping_ms');return false;">{{ Lang.ping }} ({{ Lang.ms }})</a></th>
                <th class="uk-text-right test-network-signal uk-text-nowrap"><a href="#" onclick="sortResultsBy('signal_strength');return false;">{{ Lang.signal }}</a></th>
            </tr>
            </thead>
            <tbody>

            </tbody>


        </table>


    </div>







</div>
<div class="uk-container">
<p>
    <form id="download-link-form" method="post" style="display:inline;float:right">
        <a id="csv-link" class="" href="#">{{ Lang.history_content.csv }}</a> |
        <a id="xlsx-link" href="#">{{ Lang.history_content.xlsx }}</a>
    </form>
    <a id="next-result-page" href="#">{{ Lang.opentests_content.next_page }}</a> (<span id="number-of-results"></span>  {{ Lang.opentests_content.results }})
    | <a href="#" onClick="showOpenUuid();return false;">{{ Lang.opentests_content.show_open_test_uuid }}</a>


</p>
</div>
{% endblock %}